var ds=new Datasource("/Data/projection.db"),defs,datasource,test;ds.setup().then(function(e){defs=e;test=$.map(defs,function(e,t){return[e]});makeMenu()});makeMenu=function(){var e=d3.select("body").append("div").attr("id","accordion"),t=e.selectAll("div").data(Object.keys(defs)).enter().append("h3").text(function(e){return e});t.append("div").attr("class","accord-items").selectAll("p").data(function(e){return defs[e]}).enter().insert("p").text(function(e){return e.chart_name});var n=$(".accord-items").detach(),r=$("h3");$.each(r,function(e,t){$(r[e]).after(n[e])});$("p").on("click",function(){$("p").removeClass("selected");$(this).addClass("selected");console.log($(this).prop("__data__"))});$("#accordion").accordion({heightStyle:"content",collapsible:!0})};